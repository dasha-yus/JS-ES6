<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>16_1</title>
	<link rel="stylesheet" href="css/game.css">
	<script src="js/chapter/16_game.js"></script>
	<script src="js/levels.js"></script>
</head>
<body>
	<script>
  		async function runGame(plans, Display) {
   			var lives = 3;
    			for (let level = 0; level < plans.length && lives > 0;) {
      				console.log(`level: ${level + 1}, lives: ${lives}`);
      				let status = await runLevel(new Level(plans[level]), Display);
      
      				if (status == "won") level++;
      				else lives--;
    			}

    			if (lives > 0) console.log("You've won!");
    			else console.log("Game over");
  		}
  		runGame(GAME_LEVELS, DOMDisplay);
	</script>
</body>
</html>
