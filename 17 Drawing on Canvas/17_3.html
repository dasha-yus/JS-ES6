<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>17_3</title>
</head>
<body>
	<canvas width="400" height="400"></canvas>
	<script>
  		let cx = document.querySelector("canvas").getContext("2d");

  		let lastTime = null;
  		function frame(time) {
    		if (lastTime != null) {
     		 	updateAnimation(Math.min(100, time - lastTime) / 1000);
    		}
    		lastTime = time;
    		requestAnimationFrame(frame);
  		}
  		requestAnimationFrame(frame);
  
  		var x = 100;
  		var y = 300;
  		var radius = 10;
  		var speedX = 150;
  		var speedY = 120;

  		function updateAnimation(step) {
    		cx.clearRect(0, 0, 400, 400);
    		cx.strokeStyle = "gray";
    		cx.lineWidth = 5;
    		cx.strokeRect(25, 25, 350, 350);
    
    		x += step * speedX;
    		y += step * speedY;
    		if (x < 25 + radius || x > 375 - radius) speedX = -speedX;
    		if (y < 25 + radius || y > 375 - radius) speedY = -speedY;
    		cx.fillStyle = "green";
    		cx.beginPath();
    		cx.arc(x, y, radius, 0, 7);
    		cx.fill();
  		}
	</script>
</body>
</html>